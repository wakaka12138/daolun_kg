<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Random::Formatter - Documentation for Ruby 3.3</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>



  <ul class="link-list" role="directory">
              <li>
            <details open>
              <summary>      <a href="#module-Random::Formatter-label-Random+number+formatter.">Random number formatter.</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#module-Random::Formatter-label-Examples">Examples</a>

              </ul>
            </details>
          </li>

  </ul>
</div>


  <div id="class-metadata">
    
    
    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-i-alphanumeric">#alphanumeric</a>
    <li ><a href="#method-i-base64">#base64</a>
    <li ><a href="#method-i-choose">#choose</a>
    <li ><a href="#method-i-gen_random">#gen_random</a>
    <li ><a href="#method-i-hex">#hex</a>
    <li ><a href="#method-i-rand">#rand</a>
    <li ><a href="#method-i-random_bytes">#random_bytes</a>
    <li ><a href="#method-i-random_number">#random_number</a>
    <li ><a href="#method-i-urlsafe_base64">#urlsafe_base64</a>
    <li ><a href="#method-i-uuid">#uuid</a>
    <li ><a href="#method-i-uuid_v4">#uuid_v4</a>
    <li ><a href="#method-i-uuid_v7">#uuid_v7</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Random::Formatter">
  <h1 id="module-Random::Formatter" class="module">
    module Random::Formatter
  </h1>

  <section class="description">
    
<h2 id="module-Random::Formatter-label-Random+number+formatter.">Random number formatter.<span><a href="#module-Random::Formatter-label-Random+number+formatter.">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Formats generated random numbers in many manners. When <code>&#39;random/formatter&#39;</code> is required, several methods are added to empty core module <code>Random::Formatter</code>, making them available as Random’s instance and module methods.</p>

<p>Standard library <a href="../SecureRandom.html"><code>SecureRandom</code></a> is also extended with the module, and the methods described below are available as a module methods in it.</p>

<h3 id="module-Random::Formatter-label-Examples">Examples<span><a href="#module-Random::Formatter-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Generate random hexadecimal strings:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">hex</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;52750b30ffbc7de3b362&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">hex</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;92b15d6c8dc4beb5f559&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">hex</span>(<span class="ruby-value">13</span>) <span class="ruby-comment">#=&gt; &quot;39b290146bea6ce975c37cfc23&quot;</span>
<span class="ruby-comment"># or just</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">hex</span> <span class="ruby-comment">#=&gt; &quot;1aed0c631e41be7f77365415541052ee&quot;</span>
</pre>

<p>Generate random base64 strings:</p>

<pre class="ruby"><span class="ruby-identifier">prng</span>.<span class="ruby-identifier">base64</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;EcmTPZwWRAozdA==&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">base64</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;KO1nIU+p9DKxGg==&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">base64</span>(<span class="ruby-value">12</span>) <span class="ruby-comment">#=&gt; &quot;7kJSM/MzBJI+75j8&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">base64</span>(<span class="ruby-value">4</span>) <span class="ruby-comment">#=&gt; &quot;bsQ3fQ==&quot;</span>
</pre>

<p>Generate random binary strings:</p>

<pre class="ruby"><span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;\016\t{\370g\310pbr\301&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;\323U\030TO\234\357\020\a\337&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">6</span>) <span class="ruby-comment">#=&gt; &quot;\xA1\xE6Lr\xC43&quot;</span>
</pre>

<p>Generate alphanumeric strings:</p>

<pre class="ruby"><span class="ruby-identifier">prng</span>.<span class="ruby-identifier">alphanumeric</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;S8baxMJnPl&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">alphanumeric</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;aOxAg8BAJe&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">alphanumeric</span> <span class="ruby-comment">#=&gt; &quot;TmP9OsJHJLtaZYhP&quot;</span>
</pre>

<p>Generate UUIDs:</p>

<pre class="ruby"><span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;2d931510-d99f-494a-8c67-87feb05e1594&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;bad85eb9-0713-4da7-8d36-07a8e4b00eab&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;f14e0271-de96-45cc-8911-8910292a42cd&quot;</span>
</pre>

<p>All methods are available in the standard library <a href="../SecureRandom.html"><code>SecureRandom</code></a>, too:</p>

<pre class="ruby"><span class="ruby-constant">SecureRandom</span>.<span class="ruby-identifier">hex</span> <span class="ruby-comment">#=&gt; &quot;05b45376a30c67238eb93b16499e50cf&quot;</span>
</pre>

<p>Generate a random number in the given range as <a href="../Random.html"><code>Random</code></a> does</p>

<pre class="ruby"><span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_number</span>       <span class="ruby-comment">#=&gt; 0.5816771641321361</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_number</span>(<span class="ruby-value">1000</span>) <span class="ruby-comment">#=&gt; 485</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_number</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">6</span>) <span class="ruby-comment">#=&gt; 3</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">rand</span>                <span class="ruby-comment">#=&gt; 0.5816771641321361</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">rand</span>(<span class="ruby-value">1000</span>)          <span class="ruby-comment">#=&gt; 485</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">rand</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">6</span>)          <span class="ruby-comment">#=&gt; 3</span>
</pre>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="ALPHANUMERIC">ALPHANUMERIC
        <dd><p>The default character list for <a href="Formatter.html#method-i-alphanumeric"><code>alphanumeric</code></a>.</p>
      </dl>
    </section>



     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-alphanumeric" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">alphanumeric</span><span
              class="method-args">(n = nil, chars: ALPHANUMERIC)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random alphanumeric string.</p>

<p>The argument <em>n</em> specifies the length, in characters, of the alphanumeric string to be generated. The argument <em>chars</em> specifies the character list which the result is consist of.</p>

<p>If <em>n</em> is not specified or is nil, 16 is assumed. It may be larger in the future.</p>

<p>The result may contain A-Z, a-z and 0-9, unless <em>chars</em> is specified.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">alphanumeric</span>     <span class="ruby-comment">#=&gt; &quot;2BuBuLf3WfSKyQbR&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">alphanumeric</span>(<span class="ruby-value">10</span>) <span class="ruby-comment">#=&gt; &quot;i6K93NdqiH&quot;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">alphanumeric</span>(<span class="ruby-value">4</span>, <span class="ruby-value">chars:</span> [<span class="ruby-operator">*</span><span class="ruby-string">&quot;0&quot;</span><span class="ruby-operator">..</span><span class="ruby-string">&quot;9&quot;</span>]) <span class="ruby-comment">#=&gt; &quot;2952&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">alphanumeric</span>(<span class="ruby-value">10</span>, <span class="ruby-value">chars:</span> [<span class="ruby-operator">*</span><span class="ruby-string">&quot;!&quot;</span><span class="ruby-operator">..</span><span class="ruby-string">&quot;/&quot;</span>]) <span class="ruby-comment">#=&gt; &quot;,.,++%/&#39;&#39;.&quot;</span>
</pre>

          <div class="method-source-code" id="alphanumeric-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 368</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">alphanumeric</span>(<span class="ruby-identifier">n</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-value">chars:</span> <span class="ruby-constant">ALPHANUMERIC</span>)
  <span class="ruby-identifier">n</span> = <span class="ruby-value">16</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">chars</span>, <span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-base64" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">base64</span><span
              class="method-args">(n=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random base64 string.</p>

<p>The argument <em>n</em> specifies the length, in bytes, of the random number to be generated. The length of the result string is about 4/3 of <em>n</em>.</p>

<p>If <em>n</em> is not specified or is nil, 16 is assumed. It may be larger in the future.</p>

<p>The result may contain A-Z, a-z, 0-9, “+”, “/” and “=”.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">base64</span> <span class="ruby-comment">#=&gt; &quot;/2BuBuLf3+WfSKyQbRcc/A==&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">base64</span> <span class="ruby-comment">#=&gt; &quot;6BbW0pxO0YENxn38HMUbcQ==&quot;</span>
</pre>

<p>See RFC 3548 for the definition of base64.</p>

          <div class="method-source-code" id="base64-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">base64</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword">nil</span>)
  [<span class="ruby-identifier">random_bytes</span>(<span class="ruby-identifier">n</span>)].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;m0&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-hex" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">hex</span><span
              class="method-args">(n=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random hexadecimal string.</p>

<p>The argument <em>n</em> specifies the length, in bytes, of the random number to be generated. The length of the resulting hexadecimal string is twice of <em>n</em>.</p>

<p>If <em>n</em> is not specified or is nil, 16 is assumed. It may be larger in the future.</p>

<p>The result may contain 0-9 and a-f.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">hex</span> <span class="ruby-comment">#=&gt; &quot;eb693ec8252cd630102fd0d0fb7c3485&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">hex</span> <span class="ruby-comment">#=&gt; &quot;91dc3bfb4de5b11d029d376634589b61&quot;</span>
</pre>

          <div class="method-source-code" id="hex-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hex</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">random_bytes</span>(<span class="ruby-identifier">n</span>).<span class="ruby-identifier">unpack1</span>(<span class="ruby-string">&quot;H*&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-rand" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              rand                 &rarr; float
            </span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              rand(max)            &rarr; number
            </span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              rand(range)          &rarr; number
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Generates formatted random number from raw random bytes. See <a href="../Random.html#method-i-rand"><code>Random#rand</code></a>.</p>

        </div>


        <div class="aliases">
          Alias for: <a href="Formatter.html#method-i-random_number">random_number</a>
        </div>
      </div>

      <div id="method-i-random_bytes" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">random_bytes</span><span
              class="method-args">(n=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random binary string.</p>

<p>The argument <em>n</em> specifies the length of the result string.</p>

<p>If <em>n</em> is not specified or is nil, 16 is assumed. It may be larger in future.</p>

<p>The result may contain any byte: “x00” - “xff”.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">random_bytes</span> <span class="ruby-comment">#=&gt; &quot;\xD8\\\xE0\xF4\r\xB2\xFC*WM\xFF\x83\x18\xF45\xB6&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">random_bytes</span> <span class="ruby-comment">#=&gt; &quot;m\xDC\xFC/\a\x00Uf\xB2\xB2P\xBD\xFF6S\x97&quot;</span>
</pre>

          <div class="method-source-code" id="random_bytes-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">random_bytes</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">n</span> = <span class="ruby-identifier">n</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">to_int</span> <span class="ruby-operator">:</span> <span class="ruby-value">16</span>
  <span class="ruby-identifier">gen_random</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-random_number" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              random_number        &rarr; float
            </span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              random_number(max)   &rarr; number
            </span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              random_number(range) &rarr; number
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Generates formatted random number from raw random bytes. See <a href="../Random.html#method-i-rand"><code>Random#rand</code></a>.</p>

          <div class="method-source-code" id="random_number-source">
            <pre>static VALUE
rand_random_number(int argc, VALUE *argv, VALUE obj)
{
    rb_random_t *rnd = try_get_rnd(obj);
    VALUE v = rand_random(argc, argv, obj, rnd);
    if (NIL_P(v)) v = rand_random(0, 0, obj, rnd);
    else if (!v) invalid_argument(argv[0]);
    return v;
}</pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Formatter.html#method-i-rand">rand</a>
        </div>

      </div>

      <div id="method-i-urlsafe_base64" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">urlsafe_base64</span><span
              class="method-args">(n=nil, padding=false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random URL-safe base64 string.</p>

<p>The argument <em>n</em> specifies the length, in bytes, of the random number to be generated. The length of the result string is about 4/3 of <em>n</em>.</p>

<p>If <em>n</em> is not specified or is nil, 16 is assumed. It may be larger in the future.</p>

<p>The boolean argument <em>padding</em> specifies the padding. If it is false or nil, padding is not generated. Otherwise padding is generated. By default, padding is not generated because “=” may be used as a URL delimiter.</p>

<p>The result may contain A-Z, a-z, 0-9, “-” and “_”. “=” is also used if <em>padding</em> is true.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">urlsafe_base64</span> <span class="ruby-comment">#=&gt; &quot;b4GOKm4pOYU_-BOXcrUGDg&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">urlsafe_base64</span> <span class="ruby-comment">#=&gt; &quot;UZLdOkzop70Ddx-IJR0ABg&quot;</span>

<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">urlsafe_base64</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>) <span class="ruby-comment">#=&gt; &quot;i0XQ-7gglIsHGV2_BNPrdQ==&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">urlsafe_base64</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>) <span class="ruby-comment">#=&gt; &quot;-M8rLhr7JEpJlqFGUMmOxg==&quot;</span>
</pre>

<p>See RFC 3548 for the definition of URL-safe base64.</p>

          <div class="method-source-code" id="urlsafe_base64-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">urlsafe_base64</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">padding</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">s</span> = [<span class="ruby-identifier">random_bytes</span>(<span class="ruby-identifier">n</span>)].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&quot;m0&quot;</span>)
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">tr!</span>(<span class="ruby-string">&quot;+/&quot;</span>, <span class="ruby-string">&quot;-_&quot;</span>)
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;=&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">padding</span>
  <span class="ruby-identifier">s</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-uuid" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">uuid</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random v4 UUID (Universally Unique IDentifier).</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;2d931510-d99f-494a-8c67-87feb05e1594&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;bad85eb9-0713-4da7-8d36-07a8e4b00eab&quot;</span>
<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid</span> <span class="ruby-comment">#=&gt; &quot;62936e70-1815-439b-bf89-8492855a7e6b&quot;</span>
</pre>

<p>The version 4 UUID is purely random (except the version). It doesn’t contain meaningful information such as MAC addresses, timestamps, etc.</p>

<p>The result contains 122 random bits (15.25 random bytes).</p>

<p>See <a href="https://datatracker.ietf.org/doc/html/rfc4122">RFC4122</a> for details of UUID.</p>

          <div class="method-source-code" id="uuid-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">uuid</span>
  <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">16</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&quot;NnnnnN&quot;</span>)
  <span class="ruby-identifier">ary</span>[<span class="ruby-value">2</span>] = (<span class="ruby-identifier">ary</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0fff</span>) <span class="ruby-operator">|</span> <span class="ruby-value">0x4000</span>
  <span class="ruby-identifier">ary</span>[<span class="ruby-value">3</span>] = (<span class="ruby-identifier">ary</span>[<span class="ruby-value">3</span>] <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x3fff</span>) <span class="ruby-operator">|</span> <span class="ruby-value">0x8000</span>
  <span class="ruby-string">&quot;%08x-%04x-%04x-%04x-%04x%08x&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">ary</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Formatter.html#method-i-uuid_v4">uuid_v4</a>
        </div>

      </div>

      <div id="method-i-uuid_v4" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">uuid_v4</span><span
              class="method-args">()</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="Formatter.html#method-i-uuid">uuid</a>
        </div>
      </div>

      <div id="method-i-uuid_v7" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">uuid_v7</span><span
              class="method-args">(extra_timestamp_bits: 0)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a random v7 UUID (Universally Unique IDentifier).</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid_v7</span> <span class="ruby-comment"># =&gt; &quot;0188d4c3-1311-7f96-85c7-242a7aa58f1e&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid_v7</span> <span class="ruby-comment"># =&gt; &quot;0188d4c3-16fe-744f-86af-38fa04c62bb5&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid_v7</span> <span class="ruby-comment"># =&gt; &quot;0188d4c3-1af8-764f-b049-c204ce0afa23&quot;</span>
<span class="ruby-constant">Random</span>.<span class="ruby-identifier">uuid_v7</span> <span class="ruby-comment"># =&gt; &quot;0188d4c3-1e74-7085-b14f-ef6415dc6f31&quot;</span>
<span class="ruby-comment">#                    |&lt;--sorted--&gt;| |&lt;----- random ----&gt;|</span>

<span class="ruby-comment"># or</span>
<span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid_v7</span> <span class="ruby-comment"># =&gt; &quot;0188ca51-5e72-7950-a11d-def7ff977c98&quot;</span>
</pre>

<p>The version 7 UUID starts with the least significant 48 bits of a 64 bit Unix timestamp (milliseconds since the epoch) and fills the remaining bits with random data, excluding the version and variant bits.</p>

<p>This allows version 7 UUIDs to be sorted by creation time.  <a href="../Time.html"><code>Time</code></a> ordered UUIDs can be used for better database index locality of newly inserted records, which may have a significant performance benefit compared to random data inserts.</p>

<p>The result contains 74 random bits (9.25 random bytes).</p>

<p>Note that this method cannot be made reproducable because its output includes not only random bits but also timestamp.</p>

<p>See <a href="https://datatracker.ietf.org/doc/draft-ietf-uuidrev-rfc4122bis/">draft-ietf-uuidrev-rfc4122bis</a> for details of UUIDv7.</p>

<h4 id="method-i-uuid_v7-label-Monotonicity">Monotonicity<span><a href="#method-i-uuid_v7-label-Monotonicity">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>UUIDv7 has millisecond precision by default, so multiple UUIDs created within the same millisecond are not issued in monotonically increasing order.  To create UUIDs that are time-ordered with sub-millisecond precision, up to 12 bits of additional timestamp may added with <code>extra_timestamp_bits</code>.  The extra timestamp precision comes at the expense of random bits.  Setting <code>extra_timestamp_bits: 12</code> provides ~244ns of precision, but only 62 random bits (7.75 random bytes).</p>

<pre class="ruby"><span class="ruby-identifier">prng</span> = <span class="ruby-constant">Random</span>.<span class="ruby-identifier">new</span>
<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">4</span>) { <span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid_v7</span>(<span class="ruby-value">extra_timestamp_bits:</span> <span class="ruby-value">12</span>) }
<span class="ruby-comment"># =&gt;</span>
[<span class="ruby-string">&quot;0188d4c7-13da-74f9-8b53-22a786ffdd5a&quot;</span>,
 <span class="ruby-string">&quot;0188d4c7-13da-753b-83a5-7fb9b2afaeea&quot;</span>,
 <span class="ruby-string">&quot;0188d4c7-13da-754a-88ea-ac0baeedd8db&quot;</span>,
 <span class="ruby-string">&quot;0188d4c7-13da-7557-83e1-7cad9cda0d8d&quot;</span>]
<span class="ruby-comment"># |&lt;--- sorted ---&gt;| |&lt;-- random ---&gt;|</span>

<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">4</span>) { <span class="ruby-identifier">prng</span>.<span class="ruby-identifier">uuid_v7</span>(<span class="ruby-value">extra_timestamp_bits:</span> <span class="ruby-value">8</span>) }
<span class="ruby-comment"># =&gt;</span>
[<span class="ruby-string">&quot;0188d4c7-3333-7a95-850a-de6edb858f7e&quot;</span>,
 <span class="ruby-string">&quot;0188d4c7-3333-7ae8-842e-bc3a8b7d0cf9&quot;</span>,  <span class="ruby-comment"># &lt;- out of order</span>
 <span class="ruby-string">&quot;0188d4c7-3333-7ae2-995a-9f135dc44ead&quot;</span>,  <span class="ruby-comment"># &lt;- out of order</span>
 <span class="ruby-string">&quot;0188d4c7-3333-7af9-87c3-8f612edac82e&quot;</span>]
<span class="ruby-comment"># |&lt;--- sorted --&gt;||&lt;---- random ---&gt;|</span>
</pre>

<p>Any rollbacks of the system clock will break monotonicity.  UUIDv7 is based on UTC, which excludes leap seconds and can rollback the clock.  To avoid this, the system clock can synchronize with an NTP server configured to use a “leap smear” approach.  NTP or PTP will also be needed to synchronize across distributed nodes.</p>

<p>Counters and other mechanisms for stronger guarantees of monotonicity are not implemented.  Applications with stricter requirements should follow <a href="https://www.ietf.org/archive/id/draft-ietf-uuidrev-rfc4122bis-07.html#monotonicity_counters">Section 6.2</a> of the specification.</p>

          <div class="method-source-code" id="uuid_v7-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">uuid_v7</span>(<span class="ruby-value">extra_timestamp_bits:</span> <span class="ruby-value">0</span>)
  <span class="ruby-keyword">case</span> (<span class="ruby-identifier">extra_timestamp_bits</span> = <span class="ruby-constant">Integer</span>(<span class="ruby-identifier">extra_timestamp_bits</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-value">0</span> <span class="ruby-comment"># min timestamp precision</span>
    <span class="ruby-identifier">ms</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_REALTIME</span>, <span class="ruby-value">:millisecond</span>)
    <span class="ruby-identifier">rand</span> = <span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">10</span>)
    <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">setbyte</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">getbyte</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0f</span> <span class="ruby-operator">|</span> <span class="ruby-value">0x70</span>) <span class="ruby-comment"># version</span>
    <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">setbyte</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">getbyte</span>(<span class="ruby-value">2</span>) <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x3f</span> <span class="ruby-operator">|</span> <span class="ruby-value">0x80</span>) <span class="ruby-comment"># variant</span>
    <span class="ruby-string">&quot;%08x-%04x-%s&quot;</span> <span class="ruby-operator">%</span> [
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_ffff_ffff_0000</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">16</span>,
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_0000_0000_ffff</span>),
      <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&quot;H4H4H12&quot;</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;-&quot;</span>)
    ]

  <span class="ruby-keyword">when</span> <span class="ruby-value">12</span> <span class="ruby-comment"># max timestamp precision</span>
    <span class="ruby-identifier">ms</span>, <span class="ruby-identifier">ns</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_REALTIME</span>, <span class="ruby-value">:nanosecond</span>)
      .<span class="ruby-identifier">divmod</span>(<span class="ruby-value">1_000_000</span>)
    <span class="ruby-identifier">extra_bits</span> = <span class="ruby-identifier">ns</span> <span class="ruby-operator">*</span> <span class="ruby-value">4096</span> <span class="ruby-operator">/</span> <span class="ruby-value">1_000_000</span>
    <span class="ruby-identifier">rand</span> = <span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">8</span>)
    <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">setbyte</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">getbyte</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x3f</span> <span class="ruby-operator">|</span> <span class="ruby-value">0x80</span>) <span class="ruby-comment"># variant</span>
    <span class="ruby-string">&quot;%08x-%04x-7%03x-%s&quot;</span> <span class="ruby-operator">%</span> [
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_ffff_ffff_0000</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">16</span>,
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_0000_0000_ffff</span>),
      <span class="ruby-identifier">extra_bits</span>,
      <span class="ruby-identifier">rand</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&quot;H4H12&quot;</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;-&quot;</span>)
    ]

  <span class="ruby-keyword">when</span> (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">12</span>) <span class="ruby-comment"># the generic version is slower than the special cases above</span>
    <span class="ruby-identifier">rand_a</span>, <span class="ruby-identifier">rand_b1</span>, <span class="ruby-identifier">rand_b2</span>, <span class="ruby-identifier">rand_b3</span> = <span class="ruby-identifier">random_bytes</span>(<span class="ruby-value">10</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-string">&quot;nnnN&quot;</span>)
    <span class="ruby-identifier">rand_mask_bits</span> = <span class="ruby-value">12</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">extra_timestamp_bits</span>
    <span class="ruby-identifier">ms</span>, <span class="ruby-identifier">ns</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_REALTIME</span>, <span class="ruby-value">:nanosecond</span>)
      .<span class="ruby-identifier">divmod</span>(<span class="ruby-value">1_000_000</span>)
    <span class="ruby-string">&quot;%08x-%04x-%04x-%04x-%04x%08x&quot;</span> <span class="ruby-operator">%</span> [
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_ffff_ffff_0000</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">16</span>,
      (<span class="ruby-identifier">ms</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x0000_0000_0000_ffff</span>),
      <span class="ruby-value">0x7000</span> <span class="ruby-operator">|</span>
        ((<span class="ruby-identifier">ns</span> <span class="ruby-operator">*</span> (<span class="ruby-value">1</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">extra_timestamp_bits</span>) <span class="ruby-operator">/</span> <span class="ruby-value">1_000_000</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rand_mask_bits</span>) <span class="ruby-operator">|</span>
        <span class="ruby-identifier">rand_a</span> <span class="ruby-operator">&amp;</span> ((<span class="ruby-value">1</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rand_mask_bits</span>) <span class="ruby-operator">-</span> <span class="ruby-value">1</span>),
      <span class="ruby-value">0x8000</span> <span class="ruby-operator">|</span> (<span class="ruby-identifier">rand_b1</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0x3fff</span>),
      <span class="ruby-identifier">rand_b2</span>,
      <span class="ruby-identifier">rand_b3</span>
    ]

  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;extra_timestamp_bits must be in 0..12&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

      <div id="method-i-choose" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">choose</span><span
              class="method-args">(source, n)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Generate a string that randomly draws from a source array of characters.</p>

<p>The argument <em>source</em> specifies the array of characters from which to generate the string. The argument <em>n</em> specifies the length, in characters, of the string to be generated.</p>

<p>The result may contain whatever characters are in the source array.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;random/formatter&#39;</span>

<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">choose</span>([<span class="ruby-operator">*</span><span class="ruby-string">&#39;l&#39;</span><span class="ruby-operator">..</span><span class="ruby-string">&#39;r&#39;</span>], <span class="ruby-value">16</span>) <span class="ruby-comment">#=&gt; &quot;lmrqpoonmmlqlron&quot;</span>
<span class="ruby-identifier">prng</span>.<span class="ruby-identifier">choose</span>([<span class="ruby-operator">*</span><span class="ruby-string">&#39;0&#39;</span><span class="ruby-operator">..</span><span class="ruby-string">&#39;9&#39;</span>], <span class="ruby-value">5</span>)  <span class="ruby-comment">#=&gt; &quot;27309&quot;</span>
</pre>

          <div class="method-source-code" id="choose-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 313</span>
        <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">choose</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">n</span>)
  <span class="ruby-identifier">size</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-value">1</span>
  <span class="ruby-identifier">limit</span> = <span class="ruby-identifier">size</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0x100000000</span>
    <span class="ruby-identifier">limit</span> <span class="ruby-operator">*=</span> <span class="ruby-identifier">size</span>
    <span class="ruby-identifier">m</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-string">&#39;&#39;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">n</span>
    <span class="ruby-identifier">rs</span> = <span class="ruby-identifier">random_number</span>(<span class="ruby-identifier">limit</span>)
    <span class="ruby-identifier">is</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">digits</span>(<span class="ruby-identifier">size</span>)
    (<span class="ruby-identifier">m</span><span class="ruby-operator">-</span><span class="ruby-identifier">is</span>.<span class="ruby-identifier">length</span>).<span class="ruby-identifier">times</span> { <span class="ruby-identifier">is</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">0</span> }
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">is</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
    <span class="ruby-identifier">n</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">m</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-value">0</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">n</span>
    <span class="ruby-identifier">rs</span> = <span class="ruby-identifier">random_number</span>(<span class="ruby-identifier">limit</span>)
    <span class="ruby-identifier">is</span> = <span class="ruby-identifier">rs</span>.<span class="ruby-identifier">digits</span>(<span class="ruby-identifier">size</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">is</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">n</span>
      (<span class="ruby-identifier">n</span><span class="ruby-operator">-</span><span class="ruby-identifier">is</span>.<span class="ruby-identifier">length</span>).<span class="ruby-identifier">times</span> { <span class="ruby-identifier">is</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">0</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">is</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">is</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">is</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-gen_random" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">gen_random</span><span
              class="method-args">(n)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Internal interface to <a href="../Random.html"><code>Random</code></a>; Generate random data <em>n</em> bytes.</p>

          <div class="method-source-code" id="gen_random-source">
            <pre><span class="ruby-comment"># File lib/random/formatter.rb, line 295</span>
        <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gen_random</span>(<span class="ruby-identifier">n</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">bytes</span>(<span class="ruby-identifier">n</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.6.3.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

